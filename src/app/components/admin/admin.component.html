<mat-accordion class="example-headers-align">
  <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Edit Authors
      </mat-panel-title>
      <mat-panel-description>
        Click on a Firstname or Familyname to edit
      </mat-panel-description>
    </mat-expansion-panel-header>

    <div class="table-container mat-elevation-z4">
      <mat-table mat-table [dataSource]="authorDataSource" class="author-table">

        <ng-container matColumnDef="autnr">
          <mat-header-cell mat-header-cell *matHeaderCellDef>#</mat-header-cell>
          <mat-cell *matCellDef="let author">{{author.autnr}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="firstname">
          <mat-header-cell mat-header-cell *matHeaderCellDef>Firstname</mat-header-cell>
<!--          <mat-cell mat-cell *matCellDef="let author">{{author.firstname}}</mat-cell>-->
          <mat-cell *matCellDef="let author" [satPopoverAnchor]="p" (click)="p.open()">
            <ng-container *ngIf="author.firstname">
              {{author.firstname}}
            </ng-container>
            <span class="add-comment" *ngIf="!author.firstname">
            Add a comment
          </span>

            <sat-popover #p
                         hasBackdrop
                         xAlign="start"
                         yAlign="start"
                         (closed)="updateAuthorFirstname(author, $event)">
              <app-edit [value]="author.firstname"></app-edit>
            </sat-popover>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="familyname">
          <mat-header-cell *matHeaderCellDef>Familyname</mat-header-cell>
          <mat-cell mat-cell *matCellDef="let author">{{author.familyname}}</mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>
    </div>

  </mat-expansion-panel>

  <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Edit Books
      </mat-panel-title>
    </mat-expansion-panel-header>

    <mat-action-row>
      <button mat-button color="warn" (click)="prevStep()">Previous</button>
      <button mat-button color="primary" (click)="nextStep()">Next</button>
    </mat-action-row>
  </mat-expansion-panel>

</mat-accordion>
